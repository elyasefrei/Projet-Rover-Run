#include <stdio.h>
#include <stdlib.h>
#include <time.h>

#define MVT_TOTAL 100
#define NBR_MVT 9

int* create_tableau(int n) {
    int* tableau = malloc(n * sizeof(int));
    int proportion[] = {22, 15, 7, 7, 21, 21, 7};
    int indice = 0;
    for (int i = 0; i < 7; i++)
    {
        for (int j = 0; j < proportion[i]; j++)
            {

                tableau[indice] = i;
                indice++;
            }
    }
    return tableau;
}

int* mouvement_aleatoire(int n ) {
    int* tableau = create_tableau(MVT_TOTAL);
    int* tableau_aleatoire = malloc(sizeof(int) * NBR_MVT);
    for (int i = 0; i < n; i++) {
        int rdm = rand()%(MVT_TOTAL - i);
        tableau_aleatoire[i] = tableau[rdm];
        tableau[rdm] = tableau[MVT_TOTAL - i - 1]; 
    }

    free(tableau);  
    return tableau_aleatoire;
}

int main() {
    srand(time(NULL));

    int* tableau_aleatoire = mouvement_aleatoire(NBR_MVT);
    for (int i = 0; i < NBR_MVT; i++) {
        printf("%d\n", tableau_aleatoire[i]);
    }

    free(tableau_aleatoire);
    return 0;
}
