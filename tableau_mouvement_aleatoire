#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include  "moves.h"

#define MVT_TOTAL 100
#define NBR_MVT 9

int* create_tableau(int n) {
    int* tableau = malloc(n * sizeof(int));
    int proportion[] = {22, 15, 7, 7, 21, 21, 7};
    int indice = 0;
    for (int i = 0; i < 7; i++)
    {
        for (int j = 0; j < proportion[i]; j++)
            {

                tableau[indice] = i;
                indice++;
            }
    }
    return tableau;
}

int* mouvement_aleatoire(int n ) {
    int* tableau = create_tableau(MVT_TOTAL);
    int* tableau_aleatoire = malloc(sizeof(int) * n);
    for (int i = 0; i < n; i++) {
        int rdm = rand()%(MVT_TOTAL - i);
        tableau_aleatoire[i] = tableau[rdm];
        tableau[rdm] = tableau[MVT_TOTAL - i - 1];
    }

    free(tableau);


    for (int i = 0; i < n; i++) {
        if(tableau_aleatoire[i]==0) {
            tableau_aleatoire[i] =F_10;
        }
        else if(tableau_aleatoire[i]==1) {
            tableau_aleatoire[i]=F_20;
        }
        else if(tableau_aleatoire[i]==2) {
            tableau_aleatoire[i]=F_30;
        }
        else if(tableau_aleatoire[i]==3) {
            tableau_aleatoire[i]=B_10;
        }
        else if(tableau_aleatoire[i]==4) {
            tableau_aleatoire[i]=T_LEFT;
        }
        else if(tableau_aleatoire[i]==5) {
            tableau_aleatoire[i]=T_RIGHT;
        }
        else if(tableau_aleatoire[i]==6) {
            tableau_aleatoire[i]=U_TURN;
        }

    }
    return tableau_aleatoire;
}


